---
config:
  layout: elk
  look: classic
  theme: mc
---
flowchart TD
    A["Multiplicando<br>8 bits"] --> FSM["MÃ¡quina de Estados<br>FSM"]
    B["Multiplicador<br>8 bits"] --> FSM
    CLK["Clock"] --> FSM & RegA["Registrador A<br>Acumulador<br>Shift Register 8 bits"] & RegB["Registrador B<br>Multiplicando<br>Shift Register 8 bits"] & RegQ["Registrador Q<br>Multiplicador<br>Shift Register 8 bits"] & Counter["Contador<br>8 bits"] & ULA["ULA 8 bits"]
    RST["Reset"] --> FSM & RegA & RegB & RegQ & Counter & ULA
    FSM -->|ctrlA<br>00:hold<br>01:right<br>10:left<br>11:load| RegA
    FSM -->|ctrlB<br>00:hold<br>01:right<br>10:left<br>11:load| RegB
    FSM -->|ctrlQ<br>00:hold<br>01:right<br>10:left<br>11:load| RegQ
    FSM -->|load, en, up_down| Counter
    FSM -->|op| ULA
    FSM --> Fim["Fim 1 bit"]
    RegA --> ULA & RegQ & Resultado["Resultado 16 bits RegA + RegQ"]
    RegB --> ULA
    ULA --> RegA
    ULA -.->|carry| RegA
    Counter -->|end| FSM
    RegQ -->|"Q[0]"| FSM
    RegQ --> Resultado
